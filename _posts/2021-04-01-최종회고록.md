---
layout: post
title: 베이스캠프 최종 회고
date: 2021-04-01 10:30:00 +0900
category: diary

---

베이스캠프가 끝났다. 고생끝 고생시작이겠지.....

최종회고 발표를 맡은만큼 발표준비를 하면서 지난 10주간을 회상하며 떠올린 것들을 적어본다.

<br/>

### 기획 Sprint

---

 남들이 하는 흔한 프로젝트를 별로 좋아하지 않는편이라 예매 사이트를 구현해야 한다는 과제 설명을 들은 첫 날, 회의 때 특이한 것을 하자는 의견을 강력히 비쳤고 팀원들이 모두 좋아하며 승락해줬다. 그렇게 나온 것이 비행기 좌석 예매 사이트! 남들과는 다른 티를 확실하게 낼 수 도 있고 구현도 어려워 보이지만 다 할 수 있을 것만 같았다.

기획을 시작하고 운영진분들이 기획 단계에서는 구현을 생각하지 않고 기획을 하는게 중요하다고 말하여서 말도 안되는 기획들을 넣기 시작한다. 

> 비행기의 실시간 위치, 여행지 광고, 여행자 체크리스트, 쿠폰 할인, 타임 세일

어려워 보이는 것도 있고 쉬워보이는 것도 있지만, 기획 단계에서 웃으며 기획하고 결국 나중에 전부 스펙아웃 당한 기획들이다.

물론 성공한 기획들도 있다.

> 좌석 1분 선점하기, 좌석 선택페이지에서 비행기 클래스 변경하기, 좌석 다중 선택하기

<br/>

### DB설계 Sprint

---

그리고 설계의 첫 단계에서 비행기를 선택한 것은 아주 큰 실수라는 것을 깨달아버렸다.

예매 서비스를 구현하는 데에는 이미 많은 테이블이 필요한데, 비행기 예매 서비스는 생각보다 더 많이 필요한 것 같았다. 

게다가 팀원들과 열심히 회의를 거쳐 정규화를 최대한 예쁘게 하는 것을 목표로 테이블을 짰더니 테이블이 무려 11개!!! 난관이 예상되었다.

심지어 파워디자이너를 담당했던 팀원은 타이핑 치는데만도 하루종일.. 걸렸다고 한다.

<br/>

### 개발 Sprint

---

설날과 주말이 껴있던 개발 sprint. 여유를 워낙 많이 부려 첫 주 설날과 주말은 맥북을 열어보지도 않은 과오를 저질러버렸다. 막상 제대로된 개발을 시작한건 업무기간 기준 3일차인 2주차 월요일, 2일은 프론트 개발에 몰두하였고 수요일부터 로직 구현에 힘쓰기 시작했다. 설날동안 쉬었던 만큼 야근파티가 시작되었는데, 주말 하루는 팀원들과 같이 대화를 하면서 하기위해 켜둔 두레이 화상 채팅방을 4번을 켜는 상황까지도 벌어졌다. (1회 4시간 제한) 

꽤나 많은 스펙아웃을 하긴했지만, 그래도 필수 구현과 우리가 정말 구현하고싶던 기능들을 포함하여 시간내에 개발하기 위해 주말까지 전부 반납하고 구현에 매진했다. 

> 스펙아웃 했던 기능 중 가장 아쉬운 기능은 경유 시스템.
>
> 경유시스템이 굉장히 필요한 기능이면서, 구현하기도 까다롭고 구현 했을 때, 임팩트가 상당할 것으로 생각했으나 시간부족과 정말 까다로워서,,,, 구현 하는데 어려움이 있었다.

<br/>

### 코드 리팩토링 Sprint

---

결과물 발표가 끝나자마자 코드 리팩토링 기간이 주어졌고 이 기간이 팀원들 모두 가장 의미있는 시간이었다고 생각하는 sprint이다.

교육을 들으면서 지금까지 내가 잘못한 부분이 어떤 부분인지 어떤 습관을 고쳐야하는지 배웠다. 클린코드라는 것에 학부 저학년 시절부터 관심이 많았는데 접할기회가 없어서(스스로 찾아보질않아서,,,,) 어려웠던 분야였는데, 조던이 설명해주는 것들을 전부 다 내 것으로 만들고 싶었다.

그렇게 코드를 뜯어고치다보니, 어느새 코드의 대부분이 안 고친부분이 없고, 코드를 짤 때보다 버그가 더 많이 나왔다 -> 코드를 얼마나 더럽게 짰는지 깨닫게 되는 부분. 당연 실수로 이상한 코드를 넣은 부분도 많았다. 

그렇게 생긴 버그들을 고치고 교육을 듣다보니 개발주간보다 더 빡센 일정을 소화해야만 했다.

<br/>

### 검수 및 추가 Sprint

---

- DB 검수

  DB 검수 때는 칭찬을 많이 받았는데, 설계때 하루 4시간씩 회의하면서 고생했던 것을 보상받는 것같아 기뻤다. 검수를 해주신 수석님께서 실제 서비스에 사용해도 무방한 DB모델이라고 해주셔서 이후 고친부분이 불명확한 이름 정도 였기때문에 편하게 보냈던 것 같다.

- 세션

  웹세션으로 이용하던 정보들을 레디스 세션과 DB세션으로 구현을 해야했는데 이 구현을 세션에서 필요한 항목마다 칼럼을 생성하여 구현하였는데 오준환이사님의 코드리뷰시간에 구현방법을 새로 듣고 직렬화를 이용하여 하나의 칼럼에 통채로 집어넣고 사용하도록 구현방법을 바꾸었다.

  세션관련 구현 부를  처음부터 완전히 갈아엎는 작업을 해서 시간이 두 배로 걸리게 되었는데, 역시 사람은 처음부터 잘해야 고생을 안한다.....

- 샤딩

  샤딩을 생각하지 않고 구현을 하였기 때문에 프로젝트 구현의 대부분이 user테이블의 PK를 사용하고 있었고 user테이블의 PK는 AutoGenerate가 자동으로 생성해주기 때문에 두 개로 나뉜 DB는 각각 PK를 생성하고 PK에 중복이 생기게되어 로직이 꼬이는 상황이 발생해서, 이 문제를 해결하고자 PK를 만드는 로직을 구현해야만 했다.

- 인터페이스 통합

  이 부분은 다른 TF들과 협의가 잘 이뤄져서 별 문제 없이 진행되었다. (역시 회의 때, 내가 필기를 잘해서 그런것 같다)

- 서버 분할

  서버 분할을 하고나니 로그인이 절반 확률로 실패하는 가챠로그인 시스템이 생겼다.?!?! 이 부분은 서버 분할을 구현한 팀원이 구현은 너무 잘해놨는 데, 한 쪽 서버의 구현을 테스트하면서 주석처리를 해둔 것이 그대로 develop브랜치에 머지되어 생긴 해프닝이었다.

- QA

  치명적인 버그는 대부분 리팩토링 과정에서 생긴 코드 실수들이었다. 고치는데에도 시간이 많이들지 않았고, 나머지 QA는 개발자의 입장에서 서비스를 받는 사람들을 생각하지 않은 점들을 지적받았다.

- 보안검수

  보안검수에서는 생각치도 못한 치명적인 일이 있었는 데, 바로 이미 예약과 결제완료한 자리의 ticket_id를 알아내서 rest api를 쏘면 그 좌석을 뺏을 수 있는것!!!!!!!

  보안검수결과는 가장 마지막에 이뤄져서 고칠 시간은 없엇지만, 아마 고치려면 rest api에 서명을 집어넣는 등 보안을 강화해야하지만 실제로 그 보안 코딩을 해본 팀원이 없었기 때문에 매우 어려웠을 것으로 예상한다

<br/>

### BASECAMP 종료

---

이 기술 교육을 마치며 운영진분들께서 10주간의 교육으로 2~3년차의 개발자들과 견줄 수 있는 실력으로 거듭나길 바란다고 해주셨다. 물론 내가 2~3년차 개발자만큼의 실력으로는 한참 모자란 것은 알겠으나 다른 신입 개발자들보다는 훨씬 앞서갈 수 있는 교육을 해주신 운영진분들과 이런 지원을 아끼지 않는 회사에게 고마움을 느끼고있다.

그리고 의견을 내면 수용을 엄청 잘해주고 다른의견도 열씨미내주며 으쌰으쌰 같이 잘 뭉쳐주었던 팀원들에게도 도움을 주신 멘토님에게도 매우 감사하다.

