---
layout: post
title: "1장-단위테스트의 목표"
date: 2021-12-31
category: Study-UnitTest
---

### 단위테스트
- 작성하는 시간은 줄이고 얻는 이득은 최대로 하자.
- 코드 조각 단위테스트는 좋은 부정 지표이고, 좋지 않은 긍정 지표이다.
  - 단위테스트가 어렵다. -> 강결합이 저품질이다.
- 코드베이스가 수정 될 떄 마다, 코드 엔트로피 증가 -> 품질 저하 -> 지속적인 리팩토링 필요.
- 모든 테스트를 작성할 필요는 없다. 아주 중요하고 소프트웨어 품질에 기여하는 테스트를 작성하자. -> 고품질 테스트에 집중
  - 코드 리팩토링 시, 테스트도 리팩토링 할 것.
  - 코드 변경 시, 테스트를 실행할 것.
  - 테스트가 잘못된 경고를 발생시킬 시, 처리할 것.
  - ```코드를 이해 할 때, 테스트 코드를 읽어볼 것.```

### 테스트 커버리지
- 테스트 스위트가 소스 코드를 얼마나 실행하는지의 지표
- 괜찮은 부정 지표이고, 좋지 않은 긍정 지표이다.
- 분기 커버리지는 코드 커버리지의 단점을 보완한다.
- 문제점
  - 테스트 대상의 모든 결과를 검증한다고 보장할 수 없다.
    - 코드를 커버 해도 중간에 검증 못하는 것이 있음.
    - 코드를 커버 해도 검증이 존재하지 않을 수 도 있음.
  - 외부 라이브러리를 커버하는 지표는 없다.
    - 외부 라이브러리 안에 있는 분기를 탐색하지는 않음.
- 커버리지 숫자
  - 높은 숫자를 목표로 하는것은 좋지만 강제하는 것은 의미가 없음.
  - 너무 낮은 커버리지는 문제의 징후일 수 있음.

### 성공적인 테스트 스위트
- 좋은 테스트 스위트는 자동으로 확인 할 수 없다. 개인의 판단
- 개발 주기에 통합
- 코드베이스에서 가장 중요한 부분을 대상
- 최소한의 유지비, 최대의 가치
  - ```````좋은 곡을 식별하는 것과 좋은 곡을 작곡하는 것의 차이```````

### 이 책을 통해
- 코드와 테스트 리팩토링
- 다양한 스타일의 단위 테스트
- 통합테스트로 시스템 전체 동작 검증
- 단위테스트 안티 패턴 식별 및 예방

<br/><br/>
### 1장을 읽고
- 코드 커버리지와 분기 커버리지의 헛점을 예시를 통해 정확히 이해함.
- ```코드를 이해 할 때, 테스트 코드를 읽어볼 것.```
- 개발 주기에 통합할 방법을 생각하게 됨.
- 낮은 코드 엔트로피를 유지하자.
> ```````좋은 곡을 식별하는 것과 좋은 곡을 작곡하는 것의 차이```````

좋은 곡을 쓰기위해서 끊임없이 노력하는 것처럼 열심히 해야 좋은 테스트 코드를 짤 수 있....을것 같다...